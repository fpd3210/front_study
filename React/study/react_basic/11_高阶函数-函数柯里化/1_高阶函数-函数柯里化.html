<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="test1"></div>

<!-- 引入react核心库 -->
<script src="../js/react.development.js"></script>
<!-- 引入react-dom,用于支持react操作dom -->
<script src="../js/react-dom.development.js"></script>
<!-- 引入babel,用于将jsx转化为js -->
<script src="../js/babel.min.js"></script>
<!-- 引入prop-types,用于对组件属性进行限制-->
<script src="../js/prop-types.js"></script>
<script type="text/babel">


    /*
        高阶函数：如果一个函数符合下面2个规范中的任何一个，那该函数就是高阶函数。
                        1.若A函数，接收的参数是一个函数，那么A就可以称之为高阶函数。
                        2.若A函数，调用的返回值依然是一个函数，那么A就可以称之为高阶函数。
                        常见的高阶函数有：Promise、setTimeout、arr.map()等等

        函数的柯里化：通过函数调用继续返回函数的方式，实现多次接收参数最后统一处理的函数编码形式。
            function sum(a){
                return(b)=>{
                    return (c)=>{
                        return a+b+c
                    }
                }
            }
	*/

    class Login extends React.Component {


        // 初始化状态
        state = {
            username: '',
            password:''
        }

        // 保存表单数据到状态中
        saveFormData = (dateType)=>{
            return (event)=>{
                console.log(dateType)
                // 不能用dataType(自动识别为字符串'dataType'),需要用[]括起来
                this.setState({[dateType]:event.target.value})
            }
        }

        handleSubmit = (event)=>{
            // 阻止表单提交
            event.preventDefault()

            const {username,password} = this.state
            alert(`用户名：${username}\n密码：${password}`)
        }

        render(){
            return (
                <form onSubmit={this.handleSubmit}>
                    用户名：<input onChange={this.saveFormData('username')} type="text" name="username"/> <br/>
                    密码：<input onChange={this.saveFormData('password')} type="password" name="password"/> <br/>
                    <button>登录</button>

                </form>
            )
        }

    }

    ReactDOM.render(<Login/>,document.getElementById("test1"))
</script>
</body>
</html>
